(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1198:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(5155),a=t(2115),l=t(6874),c=t.n(l),n=t(5695),i=t(3999),u=t(9946);let o=(0,u.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var d=t(5339);let h=(0,u.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var m=t(2919);let x=(0,u.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var y=t(2657),f=t(7550),g=t(4869);function p(){let[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[j,v]=(0,a.useState)("success"),w=(0,n.useRouter)(),N=(0,n.useSearchParams)(),{login:k,isAuthenticated:A}=(0,i.A)();(0,a.useEffect)(()=>{A&&w.push("/")},[A,w]);let S=async s=>{s.preventDefault(),g(!0),b("");try{let s=await k(e,t);if(s.success){b(s.message),v("success");let e=N.get("returnTo")||"/";setTimeout(()=>{w.push(e)},1e3)}else b(s.message),v("error")}catch(e){console.error("Login error:",e),b("로그인 중 오류가 발생했습니다."),v("error")}finally{g(!1)}};return(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-2 ".concat("success"===j?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:["success"===j?(0,r.jsx)(o,{className:"h-5 w-5 flex-shrink-0"}):(0,r.jsx)(d.A,{className:"h-5 w-5 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-sm",children:p})]}),(0,r.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(h,{className:"h-4 w-4"}),"이메일"]}),(0,r.jsx)("input",{type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0,disabled:f})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),"비밀번호"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:c?"text":"password",value:t,onChange:e=>l(e.target.value),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0,disabled:f}),(0,r.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:f,children:c?(0,r.jsx)(x,{className:"h-5 w-5"}):(0,r.jsx)(y.A,{className:"h-5 w-5"})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"로그인 중...":"로그인"})]})]})}function b(){return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)(c(),{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,r.jsx)(f.A,{className:"h-5 w-5"}),"홈으로 돌아가기"]})}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,r.jsx)(g.A,{className:"h-8 w-8 text-blue-600"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"K-Community"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"한국을 세계로, 세계를 한국으로"})]}),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"animate-pulse bg-gray-100 h-32 rounded-lg"}),children:(0,r.jsx)(p,{})})]}),(0,r.jsx)("div",{className:"mt-8 text-center text-sm text-gray-500",children:(0,r.jsxs)("p",{children:["로그인함으로써"," ",(0,r.jsx)(c(),{href:"/terms",className:"text-blue-600 hover:text-blue-700",children:"이용약관"})," ","및"," ",(0,r.jsx)(c(),{href:"/privacy",className:"text-blue-600 hover:text-blue-700",children:"개인정보처리방침"}),"에 동의합니다."]})})]})})}},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2919:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3999:(e,s,t)=>{"use strict";t.d(s,{A:()=>n,AuthProvider:()=>c});var r=t(5155),a=t(2115);let l=(0,a.createContext)(null);function c(e){let{children:s}=e,[t,c]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),u=async()=>{try{let e=await fetch("/api/auth/me"),s=await e.json();s.success?c(s.user):c(null)}catch(e){console.error("Auth check error:",e),c(null)}finally{i(!1)}},o=async(e,s)=>{try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),r=await t.json();if(r.success)return c(r.user),{success:!0,message:r.message};return{success:!1,message:r.message}}catch(e){return console.error("Login error:",e),{success:!1,message:"로그인 중 오류가 발생했습니다."}}},d=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),c(null)}catch(e){console.error("Logout error:",e)}};return(0,a.useEffect)(()=>{u()},[]),(0,r.jsx)(l.Provider,{value:{user:t,isLoading:n,isAuthenticated:!!t,login:o,logout:d,checkAuth:u},children:s})}function n(){let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},4869:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},5339:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},7550:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9581:(e,s,t)=>{Promise.resolve().then(t.bind(t,1198))}},e=>{var s=s=>e(e.s=s);e.O(0,[95,441,684,358],()=>s(9581)),_N_E=e.O()}]);